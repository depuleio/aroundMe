<!DOCTYPE html>
<html>
<head>
  <title>Event Form</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="/static/css/eventform.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"> 
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>
<style>

.container {
  position: relative;
  width: 30%;
}

#map {
        height: 400px;
        width: 100%;
}

.image {
  display: block;
  width: 100%;
  height: auto;
}

.overlay {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  height: 100%;
  width: 100%;
  opacity: 0;
  transition: .5s ease;
  background-color: white;
}

.container:hover .overlay {
  opacity: 1;
}

.text {
  color: black;
  font: arial;
  font-size: 20px;
  position: absolute;
  top: 50%;
  left: 45%;
  transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
}

 

</style>


<body>

  <nav class="navbar navbar-default navbar-expand-lg navbar-light" style="background-color: #005bbb;">
      <!-- <nav class="navbar navbar-expand-sm navbar-light" style="background-color: #005bbb;"> -->
        <div class="container">    
          <div class="collapse navbar-collapse" id="mainMenu" style="color: #005bbb;">
            <ul class="nav navbar-nav" >
              <li><a class="active" href="{% url 'home' %}" style="color: white; padding-left: 130px; font-size: 28px;">AroundMe</a></li>
            </ul>
           
          </div>
        </div>
      </nav>


  <h1><center><u>{{event.event_title}}</u></center></h1>
</style>
</head>
<body>

<div class="container">
  <img src="{{filename}}" class="image">
  <div class="overlay">
    <div class="text"> {{event.event_info}} </div>
  </div>
</div>
  
<div class="row">
 <p><span class="glyphicon glyphicon-calendar"></span></p>  
 <div class = text0>
  <h5> {{event.event_date}} <br> {{event.event_time}} </h5>
</div>

 <p> <span class="glyphicon glyphicon-map-marker"></span></p>
 <div class = text1>
     <h5> {{event.event_street}} {{event.event_city}} {{event.event_zip}} </h5>
 </div>

 <p> <span class ="glyphicon glyphicon glyphicon-user"></span></p>
 <div class = "text2">
<h5> <a href="mailto:sadahaid@buffalo.edu"> {{event.event_user}} </a> </h5>
</div>
</div>

<center><div class = "mapper">
<div class="container text-center">
  <h3>Location </h3>
  <center><div id="map"></div></center>
</div>
</div>
</center>


<!--

<div class="comments">
  <h2>Post a comment</h2>
  <form>
    <div class="form-group">
      <textarea class="form-control" rows="5" id="comment"></textarea><br>
        
       <input type="submit" class="btn btn-info" style="position: left" value="Submit Button">
    </div>
  </form>
</div>

-->

<script type="text/javascript">

function initMap() {

  var address = "{{event.event_street}},{{event.event_city}},{{event.event_zip}}";
  var geocoder = new google.maps.Geocoder();

  var latitude;
  var longitude;

  

  geocoder.geocode( { 'address': address}, function(results, status) {

    console.log(status);
    if (status == google.maps.GeocoderStatus.OK) {
      console.log("we here");
      latitude = results[0].geometry.location.lat();
      longitude = results[0].geometry.location.lng();
      console.log(latitude);
      uluru = {lat: latitude, lng: longitude};

      var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 15,
        center: uluru
      });

      var marker = new google.maps.Marker({
        position: uluru,
        map: map
      });
      //alert(latitude);
    } 
  }); 

  

 
}

</script>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDBz-EOSfZhEm35MBRxehrlVdEcozpurN0&callback=initMap"
  type="text/javascript"></script>

</body>
</html>
